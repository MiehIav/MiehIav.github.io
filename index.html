<!DOCTYPE html>
<html>
<head>
<title>Solar System Map</title>
<style>
body {
  background-color: #000;
  overflow: hidden;
  margin: 0;
}

#solar-system {
  position: relative;
  width: 100vw;
  height: 100vh;
}

.planet {
  position: absolute;
  border-radius: 50%;
  opacity: 0.8;
}

#sun {
  position: absolute;
  width: 50px;
  height: 50px;
  border-radius: 50%;
  background-color: yellow;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
}

/* Planet specific sizes (adjust as needed) */
#mercury { width: 10px; height: 10px; }
#venus { width: 15px; height: 15px; }
#earth { width: 20px; height: 20px; }
#mars { width: 18px; height: 18px; }
#jupiter { width: 30px; height: 30px; }
#saturn { width: 25px; height: 25px; }
#uranus { width: 22px; height: 22px; }
#neptune { width: 20px; height: 20px; }

</style>
</head>
<body>

<div id="solar-system">
  <div id="sun"></div>
  <div id="mercury" class="planet"></div>
  <div id="venus" class="planet"></div>
  <div id="earth" class="planet"></div>
  <div id="mars" class="planet"></div>
  <div id="jupiter" class="planet"></div>
  <div id="saturn" class="planet"></div>
  <div id="uranus" class="planet"></div>
  <div id="neptune" class="planet"></div>
</div>

<script>
const planets = {
  mercury: { element: '199', color: "gray" },
  venus: { element: '299', color: "orange" },
  earth: { element: '399', color: "blue" },
  mars: { element: '499', color: "red" },
  jupiter: { element: '599', color: "brown" },
  saturn: { element: '699', color: "gold" },
  uranus: { element: '799', color: "lightblue" },
  neptune: { element: '899', color: "darkblue" },
};

const sun = document.getElementById("sun");
const solarSystem = document.getElementById("solar-system");

async function getPlanetData(elementId) {
  const apiUrl = `https://ssd-api.jpl.nasa.gov/horizons_data.api?command=%27get_object_info%27&id.id_type=%27id%27&id=${elementId}&format=json`;

  try {
    const response = await fetch(apiUrl);
    const data = await response.json();
    if (data.result_code === null) {
      const orbitalElements = data.result.split('\n').filter(line => line.includes('a (AU)'));
      if (orbitalElements.length > 0) {
        const semiMajorAxisAU = parseFloat(orbitalElements[0].split('=')[1].trim());
        return semiMajorAxisAU * 149.6e9; // Convert AU to meters
      } else {
        console.error("Could not find semi-major axis in API response.");
        return null;
      }

    } else {
      console.error("Error fetching data from JPL Horizons API:", data.result_code);
      return null;
    }
  } catch (error) {
    console.error("Error fetching data:", error);
    return null;
  }
}

async function updatePlanetPositions() {
  const centerX = solarSystem.offsetWidth / 2;
  const centerY = solarSystem.offsetHeight / 2;
  const scale = 0.00000002; // Adjust this scale as needed

  for (const planetName in planets) {
    const planet = document.getElementById(planetName);
    const planetData = planets[planetName];

    const distance = await getPlanetData(planetData.element);

    if (distance !== null) {
      const angle = Math.random() * 360; // Random angle for now
      const x = centerX + distance * scale * Math.cos(angle * Math.PI / 180);
      const y = centerY + distance * scale * Math.sin(angle * Math.PI / 180);

      planet.style.left = x + "px";
      planet.style.top = y + "px";
      planet.style.backgroundColor = planetData.color;
    }
  }
}

updatePlanetPositions();
window.addEventListener('resize', updatePlanetPositions);

</script>

</body>
</html>
